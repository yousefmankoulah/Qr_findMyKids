{% extends "base.html" %}
{% load static %}

{% block content %}

<style>
  .star {
    font-size: 15px;
    cursor: pointer;
    transition: color 0.3s;
    margin: 0 5px;
    color: gold;
}
</style>


      {% for product in product %}

        <div class="mx-auto container">
            <p><a href="{% url 'home' %}">Home</a> | <a href="{% url 'product' product.category.id %}">{{product.category}}</a> | {{product.name}}</p>
        </div>
        
            <br><br>

            <h1>{{ product.name }}</h1>
            <p>{{ product.created }}</p><br><br><br>
            <div class="row">
                <div class="col-sm-12 col-lg-8 col-md-12 text-center">
                    <div style="min-width: 18rem">
                      <div id="carouselExampleControls" class="carousel slide det" data-ride="carousel">
                          <div class="carousel-inner">
                            <div class="carousel-item active">
                              <img src="{{product.image.url}}" class="d-block w-100" alt="...">
                            </div>
                            {% if product.image2 %}
                            <div class="carousel-item">
                              <img src="{{product.image2.url}}" class="d-block w-100" alt="...">
                            </div>
                            {% endif %}
                            {% if product.image3 %}
                            <div class="carousel-item">
                              <img src="{{product.image3.url}}" class="d-block w-100" alt="...">
                            </div>
                            {% endif %}

                          </div>
                          <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                          </a>
                          <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                          </a>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-md-12 col-lg-4">
                    <div>
                        <h4 class="my-prod2">{{product.name}}</h4><br>
                        <p class="lead">Product Description: {{product.description}}</p>
                        <hr><br>
                        <p class="mt-4">Price: ${{product.price}}</p>
                        
                          <a class="btn btn-primary" href="{% url 'add_cart' product.id %}">Add to Cart</a>

                    </div>
                </div>
            </div>
            <hr class="mb-4">
            <h3 class="text-center mt-4">Ratings and Reviews</h3>

            {% for review in productReview %}
            <p>{{ review.review }}<i class="star fa fa-solid fa-star"></i></p>
              <p>{{ review.comment }}</p>
              {{ review.user }}
            {% endfor %}
        {% endfor %}


{% endblock %}