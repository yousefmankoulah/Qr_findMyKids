{% extends "base.html" %}
{% load static %}

{% block content %}

<br><br>
        {% if messages %}
        <ul class="alert alert-primary"  id="box" role="alert">
            <li>Qr code Generated</li>
        </ul>
        {% endif %}
        
        <div class="container">
        <h1 class="text-center">
            QR code generate Profile
        </h1>
        <br><br><br>
        <form method="post" class="content form-group">
            {% csrf_token %}<br><br>
            <input class="form-control input_check" type="text" name="name" id="roll" placeholder="Enter the name"><br><br>
            <label for="type">What is the Type of the Profile</label>
            <select name="type" id="roll2">
                <option></option>
                <option value="Boy">Boy</option>
                <option value="Girl">Girl</option>
                <option value="Old Man">Old Man</option>
                <option value="Sick">Sick</option>
                <option value="Dog">Dog</option>
                <option value="Cat">Cat</option>
                <option value="Other Pets">Other Pets</option>
            </select>
            <input class="form-control input_check" type="text" name="address" placeholder="Enter the address"><br><br>
            <input class="form-control input_check" type="text" name="phone" id="roll3" placeholder="Enter the phone number"><br><br>
            <textarea class="form-control input_check" name="summary" placeholder="enter more details"></textarea>

            <br><br>
            <button class="btn btn-primary generate" onClick="return empty()">Generate QR</button>
        </form>

        <div class="qr-img">
            {% if img_name %}
                <img src="/media/{{ img_name }}" alt="qr code"  id="parent" onclick='myApp.printDiv()'>
            {% endif %}
        </div>
    
    </div>




    <script>
        // hide sucess message
    setTimeout(() => {
    const box = document.getElementById('box');

    // removes element from DOM
    box.style.display = 'none';
    }, 2000); //  time in milliseconds


    // prevent reload page
    if ( window.history.replaceState ) {
        window.history.replaceState( null, null, window.location.href );
    }


    //prevent submitting empty form
    function empty() {
        var x;
        var z;
        x = document.getElementById("roll").value;
        y = document.getElementById("roll2").value;
        z = document.getElementById("roll3").value;
        if (x == "" || y == "" || z == "") {
            alert("Enter a Valid Value");
            return false;
        };
    }

    </script>
    
{% endblock %}